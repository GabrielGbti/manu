<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feliz Aniversário, Meu amor!</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main class="container">

        <img src="img/arranjo-curvado.png" class="enfeite arranjo-curvado1" alt="Arranjo Curvado">
        <img src="img/arranjo-curvado.png" class="enfeite arranjo-curvado2" alt="Arranjo Curvado">

        <img src="img/Girassol.png" class="enfeite Girassol2" alt="Girassol" >

        <img src="img/psicologia.png" class="enfeite psicologia" alt="psicologia">
        <img src="img/Livros.png" class="enfeite Livros" alt="Livros">

        <img src="img/folhas.png" class="enfeite folhas1" alt="Folhas">
        <img src="img/folhas.png" class="enfeite folhas2" alt="Folhas">
        <img src="img/folhas.png" class="enfeite folhas3" alt="Folhas Baixo">

        <img src="img/arranjo-reto.png" class="enfeite arranjo-reto1" alt="Arranjo Reto">
        <img src="img/arranjo-reto.png" class="enfeite arranjo-reto2" alt="Arranjo Reto">

        <div class="conteudo-central">
            
            <section class="secao-mensagem">
                <img src="img/FelizAn.png" alt="Feliz Aniversário Meu Amor" class="texto-principal">
                    
                <img src="img/play.png" alt="Player de Música" class="player" id="btn-play">
                <p class="texto-play">clique no play, sorriso!</p>

                <audio id="musica" src="img/jem.mp3"></audio>
            </section>   

            <section class="secao-fotos">
                <div class="polaroid"><img src="img-casal/polaroids/1.png" alt="Foto 1"></div>
                <div class="polaroid"><img src="img-casal/polaroids/2.png" alt="Foto 2"></div>
                <div class="polaroid" style="position: relative;">
                    <img src="img-casal/polaroids/3.png" alt="Foto 3">
                    
                    <img src="img/Girassol.png" class="enfeite Girassol1" alt="Girassol 1">
                </div>                <div class="polaroid"><img src="img-casal/polaroids/4.png" alt="Foto 4"></div>
                <div class="polaroid"><img src="img-casal/polaroids/5.png" alt="Foto 5"></div>
                <div class="polaroid"><img src="img-casal/polaroids/6.png" alt="Foto 6"></div>
            </section>        

        </div> 
    
    </main>
    
    <section class="secao-maquina" id="secao-2">
        <div class="caixa-texto">
            <h2 id="texto-digitado"><span class="cursor"></span></h2>
        </div>
    </section>

















    <script>
        // Pega o áudio e o botão pelo ID
        var musica = document.getElementById("musica");
        var btnPlay = document.getElementById("btn-play");

        // Quando clicar no botão, faz o seguinte:
        btnPlay.onclick = function() {
            if (musica.paused) {
                // Se estiver pausado: Toca a música e troca a foto pro Pause
                musica.play();
                btnPlay.src = "img/play-go.png"; 
            } else {
                // Se estiver tocando: Pausa a música e volta a foto pro Play
                musica.pause();
                btnPlay.src = "img/play.png";
            }
        }
    </script>







    <script>
        const girassol = document.querySelector('.Girassol1');
        const folhas = document.querySelector('.folhas3');

        girassol.addEventListener('click', () => {
            folhas.classList.add('tremendo');

            setTimeout(() => {
                folhas.classList.remove('tremendo');
            }, 400);
        });
    </script>

    <script>
        const girassol2 = document.querySelector('.Girassol2');
        const folhas2 = document.querySelector('.folhas2');

        girassol2.addEventListener('click', () => {
            folhas2.classList.add('tremendo');

            setTimeout(() => {
                folhas2.classList.remove('tremendo');
            }, 400);
        });
    </script>










    <script>
        const frase = "Você é muito amável, Manuela, encanta todos que te conhecem:";

        const elementoTexto = document.getElementById("texto-digitado");
        let jaDigitou = false;

        function efeitoMaquina(texto, elemento, velocidade) {
            let i = 0;
            elemento.innerHTML = '<span class="cursor"></span>'; // Limpa e põe o cursor
            
            function digitar() {
                if (i < texto.length) {
                    // Insere a letra atual antes do cursor
                    elemento.innerHTML = elemento.innerHTML.replace('<span class="cursor"></span>', texto.charAt(i) + '<span class="cursor"></span>');
                    i++;
                    setTimeout(digitar, velocidade); // Chama a próxima letra
                } else {
                    // Quando terminar de digitar tudo, faz o cursor sumir depois de 2 segundos
                    setTimeout(() => {
                        const cursor = elemento.querySelector('.cursor');
                        if(cursor) cursor.style.display = 'none';
                    }, 2000);
                }
            }
            digitar();
        }

        // O "Olheiro" do Scroll
        const observador = new IntersectionObserver((entradas) => {
            entradas.forEach(entrada => {
                // Se a seção apareceu na tela (isIntersecting) e ainda não foi digitada:
                if (entrada.isIntersecting && !jaDigitou) {
                    jaDigitou = true; // Marca como concluído para não repetir
                    // 80 é a velocidade. Quanto menor o número, mais rápido digita!
                    efeitoMaquina(frase, elementoTexto, 80); 
                }
            });
        }, { threshold: 0.5 }); // threshold 0.5 significa: comece quando metade da seção estiver visível

        // Manda o olheiro ficar vigiando a seção 2
        observador.observe(document.getElementById("secao-2"));
    </script>






</body>
</html>